!function(){var a,b;!function(){var c={},d={};a=function(a,b,d){c[a]={deps:b,callback:d}},b=function(a){if(d[a])return d[a];d[a]={};var e=c[a];if(!e)throw new Error("Module '"+a+"' not found.");for(var f,g=e.deps,h=e.callback,i=[],j=0,k=g.length;k>j;j++)"exports"===g[j]?i.push(f={}):i.push(b(g[j]));var l=h.apply(this,i);return d[a]=f||l}}(),a("factory/adapters",["exports"],function(a){"use strict";var b=Ember.Object.extend({isRecord:function(){return!1},isBelongsTo:function(){return!1},belongsToModelClass:function(){},modelClassName:function(a){var b=a.toString().split(".");return Em.String.camelize(b[b.length-1])},save:function(){}}),c=b.extend({isRecord:function(a){return a instanceof DS.Model},isBelongsTo:function(a,b){var c=a.metaForProperty(b);return c.isRelationship&&"belongsTo"===c.kind},belongsToModelClass:function(a,b){var c=a.metaForProperty(b);return c.type},save:function(a,b,c){var d,e=a.__container__.lookup("store:main").transaction();return c=c||[],Ember.RSVP.Promise(function(a){for(b.one("didCreate",function(){Em.run.next(function(){a(b)})}),d=0;d<c.length;d++)e.add(c[d]);e.add(b),e.commit()})}});a.Adapter=b,a.EmberDataAdapter=c}),a("factory",["factory/adapters"],function(a){"use strict";function b(a,c,d,e){function f(a,c,d,e){return b(c,d,e,{commit:u})}function j(b){var c,d=Em.RSVP.defer(),e=[];for(p=l.createRecord(q),c=0;c<b.length;c++)p.set(t[c],b[c]),e.push(b[c]);for(var f in r)p.set(f,r[f]),e.push(r[f]);return u?d.resolve(n.adapter.save(a,p,e)):Em.run.next(function(){d.resolve(p)}),d.promise}var k,l,m,p,q={},r={},s=[],t=[];e=e||{};var u=e.commit||!1,v=o[c];m=n.attr(a,c,d),l=a[v.modelName];for(k in m){var w=m[k];if(h(l,k)){var x=n.adapter.belongsToModelClass(l,k);g(w)?(u&&n.adapter.save(a,w),r[k]=w):(t.push(k),s.push(f(k,a,i(x),w,{commit:u})))}else q[k]=w}return Ember.RSVP.all(s).then(j)}function c(a,b,c){return n.attr(a,b,c)}function d(a,b,c){return a.testHelpers.wait(n.build(a,b,c))}function e(a,b,c){return a.testHelpers.wait(n.create(a,b,c))}function f(a,b){var c={};for(var d in b)c[d]="function"==typeof b[d]?b[d](a):b[d];return c}function g(a){return n.adapter.isRecord(a)}function h(a,b){return n.adapter.isBelongsTo(a,b)}function i(a){return n.adapter.modelClassName(a)}function j(a){return Ember.String.classify(a)}function k(a,b){return Em.$.extend(!0,{},a,b)}var l=a.Adapter,m=a.EmberDataAdapter,n={},o={};n.define=function(a,b,c){o[a]={props:b};var d={modelName:j(a)};c=k(d,c),o[a]=k(o[a],c)},n.attr=function(a,b,c){var d;return c=c||{},c=f(a,c),d=k(o[b].props,c),d=f(a,d)},n.build=function(a,c,d){var e;return Ember.run(function(){e=b(a,c,d)}),e},n.create=function(a,c,d){var e;return Ember.run(function(){e=b(a,c,d,{commit:!0})}),e},n.reset=function(){o={}},n.Adapter=l,n.EmberDataAdapter=m;var p=Ember.Test.registerHelper;return p("attr",c),p("build",d),p("create",e),n.adapter=n.EmberDataAdapter.create(),n}),window.Factory=b("factory")}(window);