!function(){var a,b;!function(){var c={},d={};a=function(a,b,d){c[a]={deps:b,callback:d}},b=function(a){if(d[a])return d[a];d[a]={};var e=c[a];if(!e)throw new Error("Module '"+a+"' not found.");for(var f,g=e.deps,h=e.callback,i=[],j=0,k=g.length;k>j;j++)"exports"===g[j]?i.push(f={}):i.push(b(g[j]));var l=h.apply(this,i);return d[a]=f||l}}(),a("factory",[],function(){"use strict";function a(b,c,d,e){function j(b,c,d,e){a(c,i(B.type),e,{commit:x}).then(function(a){u--,w[b]=a,y.add(a),k()})}function k(){0===u&&Em.run(function(){q=o.createRecord(v),q.setProperties(w),x?(q.one("didCreate",function(){Em.run(function(){y.commit()}),Em.run.next(function(){t.resolve(q)})}),r.add(q),r.commit()):Em.run.next(function(){t.resolve(q)})})}var n,o,p,q,r,s,t=Em.RSVP.defer(),u=0,v={},w={};e=e||{};var x=e.commit||!1;r=f(b);var y=f(b),z=m[c];p=l.attr(b,c,d),o=b[z.modelName];for(n in p){var A=p[n],B=o.metaForProperty(n);g(B)?h(A)?(s=A,x&&(f(b).add(s),Em.run(s.get("transaction"),"commit"),s.get("isDirty")||y.add(s)),w[n]=s):(u++,j(n,b,i(B.type),A,{commit:x})):v[n]=A}return k(),t.promise}function b(a,b,c){return l.attr(a,b,c)}function c(a,b,c){return a.testHelpers.wait(l.build(a,b,c))}function d(a,b,c){return a.testHelpers.wait(l.create(a,b,c))}function e(a,b){var c={};for(var d in b)c[d]="function"==typeof b[d]?b[d](a):b[d];return c}function f(a){return a.__container__.lookup("store:main").transaction()}function g(a){return a.isRelationship&&"belongsTo"===a.kind}function h(a){return a instanceof DS.Model}function i(a){var b=a.toString().split(".");return Em.String.camelize(b[b.length-1])}function j(a){return Ember.String.classify(a)}function k(a,b){return Em.$.extend(!0,{},a,b)}var l={},m={};l.define=function(a,b,c){m[a]={props:b};var d={modelName:j(a)};c=k(d,c),m[a]=k(m[a],c)},l.attr=function(a,b,c){var d;return c=c||{},d=k(m[b].props,c),d=e(a,d)},l.build=function(b,c,d){return a(b,c,d)},l.create=function(b,c,d){return a(b,c,d,{commit:!0})},l.reset=function(){m={}};var n=Ember.Test.registerHelper;return n("attr",b),n("build",c),n("create",d),l}),window.Factory=b("factory")}(window);