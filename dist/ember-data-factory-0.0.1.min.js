!function(){var a,b;!function(){var c={},d={};a=function(a,b,d){c[a]={deps:b,callback:d}},b=function(a){if(d[a])return d[a];d[a]={};var e=c[a];if(!e)throw new Error("Module '"+a+"' not found.");for(var f,g=e.deps,h=e.callback,i=[],j=0,k=g.length;k>j;j++)"exports"===g[j]?i.push(f={}):i.push(b(g[j]));var l=h.apply(this,i);return d[a]=f||l}}(),a("factory",[],function(){"use strict";function a(b,c,d,j){function l(b,c,d,e){a(c,h(A.type),e,{commit:x}).then(function(a){u--,w[b]=a,y.add(a),m()})}function m(){0===u&&Em.run(function(){q=o.createRecord(v),q.setProperties(w),x?(q.one("didCreate",function(){Em.run(function(){y.commit()}),Em.run.next(function(){t.resolve(q)})}),r.add(q),r.commit()):Em.run.next(function(){t.resolve(q)})})}var n,o,p,q,r,s,t=Em.RSVP.defer(),u=0,v={},w={};j=j||{};var x=j.commit||!1;r=e(b);var y=e(b);p=k.attr(b,c,d),o=b[i(c)];for(n in p){var z=p[n],A=o.metaForProperty(n);f(A)?g(z)?(s=z,x&&(e(b).add(s),Em.run(s.get("transaction"),"commit"),s.get("isDirty")||y.add(s)),w[n]=s):(u++,l(n,b,h(A.type),z,{commit:x})):v[n]=z}return m(),t.promise}function b(a,b,c){return k.attr(a,b,c)}function c(a,b,c){return a.testHelpers.wait(k.build(a,b,c))}function d(a,b,c){return a.testHelpers.wait(k.create(a,b,c))}function e(a){return a.__container__.lookup("store:main").transaction()}function f(a){return a.isRelationship&&"belongsTo"===a.kind}function g(a){return a instanceof DS.Model}function h(a){var b=a.toString().split(".");return Em.String.camelize(b[b.length-1])}function i(a){return Ember.String.classify(a)}function j(a,b){return Em.$.extend(!0,{},a,b)}var k={},l={};k.define=function(a,b){l[a]=b},k.attr=function(a,b,c){var d;return c=c||{},d=j(l[b],c)},k.build=function(b,c,d){return a(b,c,d)},k.create=function(b,c,d){var e=a(b,c,d,{commit:!0});return e},k.clear=function(){l={}};var m=Ember.Test.registerHelper;return m("attr",b),m("build",c),m("create",d),k}),window.Factory=b("factory")}(window);